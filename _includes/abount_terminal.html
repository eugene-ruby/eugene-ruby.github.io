<script>
    document.addEventListener('DOMContentLoaded', () => {
    const lines = [
        "$ cat about/profile.md",
        "# Кто такой этот \"Eugene Ruby Ded\"?",
        "## Родом из эпохи дискет и ковров на стенах",
        "Родился в СССР, в XX веке, в Москве — когда Google не существовал,",
        "а Интернет звучал как фантастика из журнала «Наука и жизнь».",
        "",
        "## Программист с детства (буквально)",
        "В 10 лет уже писал первые программы на QBasic, искренне веря,",
        "что GOTO — это путь к счастью. Устанавливал Windows 3.11 с 13 дискет,",
        "тренируя терпение, ловкость рук и философское отношение",
        "к ошибке 'disk 7 corrupted'.",
        "",
        "## MS-DOS — первый хардкор",
        "Работал в основном под MS-DOS, где даже мышь приходилось \"дозагружать\".",
        "Команды знал наизусть, а батники писал, чтобы автоматизировать запуск игр",
        "и казаться взрослым.",
        "",
        "## Первый компьютер — как первая любовь",
        "Intel 80486DX с 8192 КБ ОЗУ. Не гигабайт, не мегабайт — именно килобайт.",
        "Он был медленным, шумным и ЭЛТ монитор горячим... как чугунный радиатор мс-140.",
        "Но тогда казался окном в цифровую вечность.",
        "Ни один MacBook не вызывает такой ностальгии.",
        "",
        "",
        "press <kkb class='fbt' id='sa34'>any key</kkb> to send a message to Eugene Ruby Ded...",
    ];

    const output = document.getElementById('terminal-content');
    const buffer = [];
    const maxLines = 200;
    let i = 0;

    function printLine() {
        if (i < lines.length) {
            buffer.push(lines[i]);
            if (buffer.length > maxLines) buffer.shift();
            renderBuffer();
            i++;
            setTimeout(printLine, 286);
        } else {
            renderBuffer(true); // добавляем курсор в конце
        }
    }

    function renderBuffer(withPrompt = false) {
        const content = buffer.slice(); // копия буфера
        if (withPrompt) {
            content.push('$ <span class="terminal-cursor">█</span>');
        }

        output.innerHTML = content.join("\n");

        // Всегда скроллим вниз к последнему элементу
        setTimeout(() => {
            const terminal = document.querySelector('.terminal-window');
            if (terminal) {
                terminal.scrollTop = terminal.scrollHeight;
            }
        }, 50);
    }

    printLine();

    const botLink = document.getElementById("sa34");
    if (botLink) {
        const encoded = "aHR0cHM6Ly90Lm1lL0V1Z2VuZVJ1YnlCb3Q=";
        const url = atob(encoded);
        botLink.addEventListener("click", () => window.open(url, "_blank"));
    }
    });
</script>
