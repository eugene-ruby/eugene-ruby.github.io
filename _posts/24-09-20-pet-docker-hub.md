---
layout: post
subtitle: <div id="terminal"></div>
title:  "–í—ã–≥—É–ª–∏–≤–∞–µ–º Pet-–ø—Ä–æ–µ–∫—Ç: –∫—Ä–∞—Ç–∫–∏–π –≥–∞–π–¥ –ø—Ä–æ Docker Hub ‚Äî push, pull, tags –∏ Free-–ª–∏–º–∏—Ç—ã"
date:   2024-09-20 14:00:00 +0300
rate: 1
tags: Docker, CI/CD, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è, pet
version: A9X
categories:
  - pet
hero_image: /images/posts/99.jpg
hero_darken: true
toc: true
menubar_toc: true
---
Docker Hub ‚Äî —ç—Ç–æ –∫–∞–∫ —Å–æ–±–∞—á–∏–π –ø–∞—Ä–∫ –¥–ª—è –≤–∞—à–∏—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤: –º–µ—Å—Ç–æ, –≥–¥–µ –æ–Ω–∏ –º–æ–≥—É—Ç –±–µ–≥–∞—Ç—å –Ω–∞ —Å–≤–æ–±–æ–¥–µ, –∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å –¥—Ä—É–≥–∏–º–∏ –∏ –Ω–µ –ø—É—Ç–∞—Ç—å –≤–∞–º –ø–æ–¥ –Ω–æ–≥–∞–º–∏ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º `docker images`. –í —Å—Ç–∞—Ç—å–µ —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ "–≤—ã–≥—É–ª–∏–≤–∞—Ç—å" pet-–ø—Ä–æ–µ–∫—Ç—ã: –æ—Ç –±–∞–∑–æ–≤—ã—Ö –∫–æ–º–∞–Ω–¥ –¥–æ —Ö–∏—Ç—Ä–æ—Å—Ç–µ–π —Å —Ç–µ–≥–∞–º–∏ –∏ –ø–æ–¥–≤–æ–¥–Ω—ã—Ö –∫–∞–º–Ω–µ–π –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ —Ç–∞—Ä–∏—Ñ–∞.

---

## üê∂ –ó–∞—á–µ–º –≤–æ–æ–±—â–µ Docker Hub?

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ: –≤—ã –Ω–∞–ø–∏—Å–∞–ª–∏ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º–µ–º–æ–≤ —Å –∫–æ—Ç–∏–∫–∞–º–∏. –•–æ—Ç–∏—Ç–µ:
- **–ü–æ–¥–µ–ª–∏—Ç—å—Å—è** –∏–º —Å –¥—Ä—É–≥–æ–º ("–°–º–æ—Ç—Ä–∏, –≤–æ—Ç –º–æ–π `meow-api:latest`!").
- **–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å** –µ–≥–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –∑–∞ –¥–≤–∞ –∫–ª–∏–∫–∞.
- **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å** —Å–±–æ—Ä–∫—É —á–µ—Ä–µ–∑ GitHub Actions.

–ë–µ–∑ Docker Hub —ç—Ç–æ –∫–∞–∫ –≤—ã–≥—É–ª–∏–≤–∞—Ç—å –ø–∏—Ç–æ–º—Ü–∞ –≤ –∫–≤–∞—Ä—Ç–∏—Ä–µ ‚Äî —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –≤–æ–∑–º–æ–∂–Ω–æ, –Ω–æ —Å–æ—Å–µ–¥–∏ –±—É–¥—É—Ç –Ω–µ–¥–æ–≤–æ–ª—å–Ω—ã.

---

## üì¶ –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã: "–ü–æ–≤–æ–¥–æ–∫ –∏ –æ—à–µ–π–Ω–∏–∫"

### 1. –õ–æ–≥–∏–Ω–∏–º—Å—è
```bash
docker login
```
*–ö–∞–∫ –ø—Ä–∏—Å—Ç–µ–≥–Ω—É—Ç—å –ø–æ–≤–æ–¥–æ–∫ –ø–µ—Ä–µ–¥ –≤—ã—Ö–æ–¥–æ–º.*

### 2. –ü—É—à–∏–º –æ–±—Ä–∞–∑
```bash
docker push username/meow-api:1.0
```
*–û—Ç–ø—Ä–∞–≤–ª—è–µ–º –ø–∏—Ç–æ–º—Ü–∞ –≤ –ø–∞—Ä–∫. –í–∞–∂–Ω–æ –¥–∞—Ç—å –µ–º—É –∏–º—è (`username/`) –∏ –≤–µ—Ä—Å–∏—é (`:1.0`), –∏–Ω–∞—á–µ –æ–Ω –ø–æ—Ç–µ—Ä—è–µ—Ç—Å—è —Å—Ä–µ–¥–∏ –¥—Ä—É–≥–∏—Ö.*

### 3. –ó–∞–±–∏—Ä–∞–µ–º –æ–±—Ä–∞—Ç–Ω–æ
```bash
docker pull username/meow-api:1.0
```
*"–ü–æ—Ä–∞ –¥–æ–º–æ–π!" ‚Äî –µ—Å–ª–∏ –æ–±—Ä–∞–∑ –∏–∑–º–µ–Ω–∏–ª—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –ª–æ–∫–∞–ª—å–Ω–∞—è –∫–æ–ø–∏—è —É—Å—Ç–∞—Ä–µ–ª–∞.*

---

## üè∑Ô∏è –¢–µ–≥–∏: "–ò–º–µ–Ω–Ω—ã–µ –∂–µ—Ç–æ–Ω—ã"

–¢–µ–≥–∏ ‚Äî —ç—Ç–æ –≤–µ—Ä—Å–∏–∏ –≤–∞—à–µ–≥–æ –æ–±—Ä–∞–∑–∞. –ë–∞–∑–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞:

| –¢–µ–≥          | –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å                  | –†–∏—Å–∫–∏                     |
|--------------|------------------------------------|--------------------------|
| `:latest`    | –î–ª—è –¥–µ–º–æ –∏–ª–∏ —Ç–µ—Å—Ç–æ–≤                | –ú–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å—Å—è –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç |
| `:1.0`       | –†–µ–ª–∏–∑–Ω—ã–µ –≤–µ—Ä—Å–∏–∏                    | –ù–∞–¥–æ —Å–ª–µ–¥–∏—Ç—å –∑–∞ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–º –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º |
| `:commit-a1b2` | –î–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–æ–º–º–∏—Ç–∞   | –ë–µ—Å–ø–æ—Ä—è–¥–æ–∫ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ |

**–ê–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω:**  
–ü—É—à–∏—Ç—å 20 —Ç–µ–≥–æ–≤ `:test1`, `:test2`... ‚Äî —ç—Ç–æ –∫–∞–∫ –≤–µ—à–∞—Ç—å –Ω–∞ —Å–æ–±–∞–∫—É –≤—Å–µ –µ—ë —Å—Ç–∞—Ä—ã–µ –æ—à–µ–π–Ω–∏–∫–∏ —Å—Ä–∞–∑—É.

---

## üÜì Free-–ª–∏–º–∏—Ç—ã: "–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Å—ã—Ä"

Docker Hub –ø–æ–∑–≤–æ–ª—è–µ—Ç –±–µ—Å–ø–ª–∞—Ç–Ω–æ:
- **1 –ø—Ä–∏–≤–∞—Ç–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π** (–Ω–æ —Å 2020 –≥–æ–¥–∞ ‚Äî —Ç–æ–ª—å–∫–æ –¥–ª—è Pro).
- **–ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ –ø—É–±–ª–∏—á–Ω—ã—Ö** (–Ω–æ —Å–º. –Ω–∏–∂–µ).
- **6 –º–µ—Å—è—Ü–µ–≤ –±–µ–∑–¥–µ–π—Å—Ç–≤–∏—è** ‚Äî –ø–æ—Ç–æ–º –æ–±—Ä–∞–∑ —É–¥–∞–ª—è–µ—Ç—Å—è (–∫–∞–∫ –∑–∞–±—ã—Ç—ã–π –º—è—á–∏–∫ –≤ –ø–∞—Ä–∫–µ).

**–õ–æ–≤—É—à–∫–∞:**  
–ï—Å–ª–∏ –≤–∞—à `meow-api` —Å–∫–∞—á–∞–ª–∏ 10 000 —Ä–∞–∑ –∑–∞ –º–µ—Å—è—Ü ‚Äî –º–æ–≥—É—Ç **–æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å pull-–∑–∞–ø—Ä–æ—Å—ã** –¥–ª—è –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π. –†–µ—à–µ–Ω–∏–µ:
```bash
docker login  # –¥–∞–∂–µ –¥–ª—è pull
```
–ò–ª–∏ –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ GitHub Container Registry (GHCR).

---

## üõ†Ô∏è –ü—Ä–∞–∫—Ç–∏–∫–∞: –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ–º "–≤—ã–≥—É–ª"

### 1. –°–æ–±–∏—Ä–∞–µ–º –∏ –ø—É—à–∏–º —á–µ—Ä–µ–∑ GitHub Actions

```yaml
# .github/workflows/docker.yml
jobs:
  build:
    steps:
      - run: docker build -t username/meow-api:$GITHUB_SHA .
      - run: docker push username/meow-api:$GITHUB_SHA
```

> ‚ö†Ô∏è **–ï—Å–ª–∏ `docker build` –∏–¥—ë—Ç –º—É—á–∏—Ç–µ–ª—å–Ω–æ –¥–æ–ª–≥–æ** üê¢ **–∏ —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–∑ –≤–µ—Å–∏—Ç –≥–∏–≥–∞–±–∞–π—Ç—ã** üêò ‚Äî —Å—Ç–æ–∏—Ç –∑–∞–¥—É–º–∞—Ç—å—Å—è –æ –¥–≤—É—Ö –≤–µ—â–∞—Ö:

1. **–°–æ–±–∏—Ä–∞—Ç—å –æ–±—Ä–∞–∑ –ª–æ–∫–∞–ª—å–Ω–æ –≤—Ä—É—á–Ω—É—é**, –∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —Ç–æ–ª—å–∫–æ –∑–∞–ø—É—Å–∫–∞—Ç—å `docker load` –∏–ª–∏ `docker-compose up`.
   –≠—Ç–æ —ç–∫–æ–Ω–æ–º–∏—Ç —Ç—Ä–∞—Ñ–∏–∫ –∏ –≤—Ä–µ–º—è –Ω–∞ CI/CD.

2. **–í—ã–¥–µ–ª–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π `base image`**, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –∏ –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ.
   –¢–∞–∫ —Ç—ã –Ω–µ –±—É–¥–µ—à—å –∫–∞–∂–¥—ã–π —Ä–∞–∑ –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞—Ç—å `apt install`, `bundle install` –∏ –Ω–æ–¥—É —Å —Ñ—Ä–æ–Ω—Ç–æ–º.

üß† *–í—Å—ë, —á—Ç–æ —Ä–µ–¥–∫–æ –º–µ–Ω—è–µ—Ç—Å—è ‚Äî –≤—ã–Ω–æ—Å–∏ –≤–≤–µ—Ä—Ö –≤ Dockerfile –∏–ª–∏ –≤ –±–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–∑.* –≠—Ç–æ –ø—Ä–∏–Ω—Ü–∏–ø, –∫–æ—Ç–æ—Ä—ã–π —É—Å–∫–æ—Ä—è–µ—Ç —Å–±–æ—Ä–∫—É –≤ —Ä–∞–∑—ã.
–ï—Å–ª–∏ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã –¥–µ—Ç–∞–ª–∏, —Ç–æ —á–∏—Ç–∞–π: [Docker-–æ–±—Ä–∞–∑—ã –∫–∞–∫ —á–µ–º–æ–¥–∞–Ω—ã: –∫–∞–∫ —Å–æ–±—Ä–∞—Ç—å –±—ã—Å—Ç—Ä–æ –∏ –Ω–µ —Ç–∞—â–∏—Ç—å –ª–∏—à–Ω–µ–µ](/posts/slow-fat-docker-image.html)

### 2. –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ–≥ –ø—Ä–∏ —Ä–µ–ª–∏–∑–µ
```bash
docker tag username/meow-api:abc123 username/meow-api:1.1
docker push username/meow-api:1.1
```

### 3. –ß–∏—Å—Ç–∏–º –ª–æ–∫–∞–ª—å–Ω—ã–µ –æ–±—Ä–∞–∑—ã
```bash
docker image prune  # —É–¥–∞–ª–∏—Ç "–ø–æ—Ç–µ—Ä—è–≤—à–∏–µ—Å—è" –æ–±—Ä–∞–∑—ã –±–µ–∑ —Ç–µ–≥–æ–≤
```

---

## üí• –ù–µ–æ—á–µ–≤–∏–¥–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

1. **"–£ –º–µ–Ω—è –Ω–µ—Ç –ø—Ä–∞–≤!"**  
   –°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ Docker Hub —á–µ—Ä–µ–∑ UI (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `docker push` ‚Äî –æ–Ω —Å–æ–∑–¥–∞—Å—Ç –µ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –µ—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –ø—Ä–∞–≤–∞).

2. **"–ü–æ—á–µ–º—É pull —Ç–∞–∫–æ–π –º–µ–¥–ª–µ–Ω–Ω—ã–π?"**  
   –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–≥–∏–æ–Ω –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Docker Desktop (–ï–≤—Ä–æ–ø–∞/–°–®–ê) –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ mirror-—Å–µ—Ä–≤–µ—Ä—ã.

3. **"–ú–æ–π –æ–±—Ä–∞–∑ –∏—Å—á–µ–∑!"**  
   –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –Ω–µ –ø—Ä–æ—à–ª–æ –ª–∏ 6 –º–µ—Å—è—Ü–µ–≤ —Å –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ push (–∏–ª–∏ –Ω–µ —É–¥–∞–ª–∏–ª–∏ –ª–∏ –≤—ã –µ–≥–æ —Å–ª—É—á–∞–π–Ω–æ).

---

## üéØ –í—ã–≤–æ–¥

Docker Hub ‚Äî —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ "–æ–±–ª–∞–∫–æ –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤", –∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è:
- **–û–±–º–µ–Ω–∞** –æ–±—Ä–∞–∑–∞–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π (–ø–æ–∫–∞–∂–∏—Ç–µ –º–∏—Ä—É –≤–∞—à `doggo-weather-api`!).
- **CI/CD** –±–µ–∑ —Å–ª–æ–∂–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫.
- **–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è** —á–µ—Ä–µ–∑ —Ç–µ–≥–∏.

–ì–ª–∞–≤–Ω–æ–µ ‚Äî —Å–ª–µ–¥–∏—Ç—å –∑–∞ –ª–∏–º–∏—Ç–∞–º–∏ –∏ –Ω–µ –ø—Ä–µ–≤—Ä–∞—â–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –≤ —Å–≤–∞–ª–∫—É —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö `:latest`. –¢–µ–ø–µ—Ä—å –≤–∞—à pet-–ø—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –ø—Ä–æ–≥—É–ª–∫–µ! üêï
